{"version":3,"sources":["i.js"],"names":["test","require","Queue","capacity","Infinity","_capacity","_values","_head","_tail","_count","prototype","enqueue","value","dequeue","oldFirst","peek","getCount","beforeEach","t","context","zeroCap","smallCap","noCap","sm","is","undefined","act","exp"],"mappings":"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","file":"i.js","sourcesContent":["var test = require('ava')\n\nfunction Queue(capacity = Infinity) {\n    this._capacity = capacity\n    this._values = {}\n    this._head = '0'\n    this._tail = '0'\n    this._count = 0\n}\n\nQueue.prototype.enqueue = function(value) {\n    if (this._count >=  this._capacity) {\n        return \"Error: Max capacity hit - already full\"\n    }\n\n    this._values[this._tail++] = value\n    return ++this._count\n};\n\nQueue.prototype.dequeue = function() {\n    var oldFirst = this._values[this._head]\n\n    delete this._values[this._head]\n    this._head++\n    this._count = this._count  === 0 ? this._count : this._count -1\n    return oldFirst\n};\n\nQueue.prototype.peek = function() {\n    return this._values[this._head]\n};\n\nQueue.prototype.getCount = function() {\n    return this._count\n};\n\ntest.beforeEach( t => {\n    t.context.zeroCap = new Queue(0)\n    t.context.smallCap = new Queue(3)\n    t.context.noCap = new Queue()\n\n    var sm = t.context.smallCap\n    sm.enqueue('one')\n    sm.enqueue('two')\n    sm.enqueue('three')\n})\n\ntest('dequeues correctly', t => {\n    var sm = t.context.smallCap\n    t.is(sm.dequeue(), 'one')\n    t.is(sm.dequeue(), 'two')\n    t.is(sm.dequeue(), 'three')\n    t.is(sm.dequeue(), undefined)\n\n})\n\ntest('dequeues correctly', t => {\n    var sm = t.context.smallCap\n    t.is(sm.dequeue(), 'one')\n    t.is(sm.dequeue(), 'two')\n    t.is(sm.dequeue(), 'three')\n    t.is(sm.dequeue(), undefined)\n\n})\n\ntest('rejects adding to zero cap', t => {\n    var act = t.context.zeroCap.enqueue('one')\n    var exp = 'Error: Max capacity hit - already full'\n    t.is(act, exp)\n})\n\ntest('enques correctly', t => {\n    var sm = t.context.smallCap\n\n    var act = t.context.smallCap._values['2']\n    var exp = 'three'\n\n    t.is(act, exp)\n\n})\n\n\n\n"]}